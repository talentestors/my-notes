<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.93" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Java正则表达式","description":"我们可能有如下的需求： 从一个文章里找到所有的邮箱； 看看输入的手机号是不是符合手机号的规则； 检查输入的是不是身份证号。 对于这种需要，都要求对字符串进行特定【模式或规则】的匹配。本章学习的正则表达式可以帮助我们实现这样的功能。 第一章 概述 正则表达式，又称规则表达式,（Regular Expression，在代码中常简写为 regex、regex..."}</script><meta property="og:url" content="https://www.stazxr.cn/my-notes/my-notes/codenotes/java/javase/java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html"><meta property="og:site_name" content="終わり群星の知识宝库"><meta property="og:title" content="Java正则表达式"><meta property="og:description" content="我们可能有如下的需求： 从一个文章里找到所有的邮箱； 看看输入的手机号是不是符合手机号的规则； 检查输入的是不是身份证号。 对于这种需要，都要求对字符串进行特定【模式或规则】的匹配。本章学习的正则表达式可以帮助我们实现这样的功能。 第一章 概述 正则表达式，又称规则表达式,（Regular Expression，在代码中常简写为 regex、regex..."><meta property="og:type" content="website"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-05-26T05:21:52.000Z"><meta property="article:tag" content="javase"><meta property="article:modified_time" content="2025-05-26T05:21:52.000Z"><link rel="icon" href="/favicon.svg"><title>Java正则表达式 | 終わり群星の知识宝库</title><meta name="description" content="我们可能有如下的需求： 从一个文章里找到所有的邮箱； 看看输入的手机号是不是符合手机号的规则； 检查输入的是不是身份证号。 对于这种需要，都要求对字符串进行特定【模式或规则】的匹配。本章学习的正则表达式可以帮助我们实现这样的功能。 第一章 概述 正则表达式，又称规则表达式,（Regular Expression，在代码中常简写为 regex、regex...">
    <link rel="preload" href="/my-notes/assets/style-CqWCOEdR.css" as="style"><link rel="stylesheet" href="/my-notes/assets/style-CqWCOEdR.css">
    <link rel="modulepreload" href="/my-notes/assets/app-CAqLFJSb.js"><link rel="modulepreload" href="/my-notes/assets/java正则表达式.html-CFe8BZxR.js"><link rel="modulepreload" href="/my-notes/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/my-notes/" aria-label="带我回家"><img class="vp-nav-logo" src="/my-notes/site_logo.png" alt><!----><span class="vp-site-name hide-in-pad">終わり群星の知识宝库</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/my-notes/quicknav/" aria-label="快速导航"><!--[--><i class="vp-icon iconfont icon-navigation" sizing="height"></i><!--]-->快速导航<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/my-notes/codenotes/" aria-label="代码笔记"><!--[--><i class="vp-icon iconfont icon-code-fill" sizing="height"></i><!--]-->代码笔记<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/my-notes/projects/" aria-label="开源项目"><!--[--><i class="vp-icon iconfont icon-open-source-fill" sizing="height"></i><!--]-->开源项目<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/my-notes/algorithms/" aria-label="数据结构与算法"><!--[--><i class="vp-icon iconfont icon-Function" sizing="height"></i><!--]-->数据结构与算法<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/my-notes/design-patterns/" aria-label="设计模式"><!--[--><i class="vp-icon iconfont icon-design" sizing="height"></i><!--]-->设计模式<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="资源宝库"><!--[--><i class="vp-icon iconfont icon-advanced" sizing="height"></i>资源宝库<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/my-notes/resources/books/" aria-label="书籍资源"><!--[--><i class="vp-icon iconfont icon-animation" sizing="both"></i><!--]-->书籍资源<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/my-notes/resources/videos/" aria-label="影音资源"><!--[--><i class="vp-icon iconfont icon-play" sizing="both"></i><!--]-->影音资源<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/talentestors" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-appearance-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-appearance-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon iconfont icon-code" sizing="both"></i><span class="vp-sidebar-title">Web核心</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><i class="vp-icon iconfont icon-java" sizing="both"></i><span class="vp-sidebar-title">Java</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><i class="vp-icon iconfont icon-java" sizing="both"></i><span class="vp-sidebar-title">JavaSE</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/java%E5%9F%BA%E7%A1%80.html" aria-label="1、java基础"><!--[--><i class="vp-icon iconfont icon-computer-fill" sizing="both"></i><!--]-->1、java基础<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5.html" aria-label="2、流程控制语句"><!--[--><i class="vp-icon iconfont icon-branch" sizing="both"></i><!--]-->2、流程控制语句<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E6%95%B0%E7%BB%84%E5%92%8C%E7%AE%97%E6%B3%95.html" aria-label="3、数组和算法"><!--[--><i class="vp-icon iconfont icon-array" sizing="both"></i><!--]-->3、数组和算法<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" aria-label="4、面向对象"><!--[--><i class="vp-icon iconfont icon-class" sizing="both"></i><!--]-->4、面向对象<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E5%B8%B8%E7%94%A8api.html" aria-label="5、常用api"><!--[--><i class="vp-icon iconfont icon-api" sizing="both"></i><!--]-->5、常用api<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6.html" aria-label="6、异常机制"><!--[--><i class="vp-icon iconfont icon-debug" sizing="both"></i><!--]-->6、异常机制<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E6%B3%9B%E5%9E%8B%E5%92%8C%E6%9E%9A%E4%B8%BE.html" aria-label="7、泛型和枚举"><!--[--><i class="vp-icon iconfont icon-enum" sizing="both"></i><!--]-->7、泛型和枚举<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E5%A4%9A%E7%BA%BF%E7%A8%8B.html" aria-label="8、多线程"><!--[--><i class="vp-icon iconfont icon-asynchronous" sizing="both"></i><!--]-->8、多线程<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E6%A0%91.html" aria-label="9、树"><!--[--><i class="vp-icon iconfont icon-tree" sizing="both"></i><!--]-->9、树<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6.html" aria-label="10、集合框架"><!--[--><i class="vp-icon iconfont icon-folder" sizing="both"></i><!--]-->10、集合框架<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/io%E6%B5%81.html" aria-label="11、IO流"><!--[--><i class="vp-icon iconfont icon-IO" sizing="both"></i><!--]-->11、IO流<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84.html" aria-label="12、注解和反射"><!--[--><i class="vp-icon iconfont icon-reflect-vertical" sizing="both"></i><!--]-->12、注解和反射<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html" aria-label="13、java网络编程"><!--[--><i class="vp-icon iconfont icon-network" sizing="both"></i><!--]-->13、java网络编程<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/javase/nio.html" aria-label="14、nio"><!--[--><i class="vp-icon iconfont icon-IO" sizing="both"></i><!--]-->14、nio<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/my-notes/codenotes/java/javase/java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html" aria-label="15、java正则表达式"><!--[--><i class="vp-icon iconfont icon-regexp" sizing="both"></i><!--]-->15、java正则表达式<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon iconfont icon-computer-fill" sizing="both"></i><span class="vp-sidebar-title">Java GUI</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon iconfont icon-JVM" sizing="both"></i><span class="vp-sidebar-title">JVM 虚拟机</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon iconfont icon-jakarta_ee_logo_stacked" sizing="both"></i><span class="vp-sidebar-title">JavaEE</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/java/maven/maven.html" aria-label="Maven 构建工具"><!--[--><i class="vp-icon iconfont icon-maven" sizing="both"></i><!--]-->Maven 构建工具<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon iconfont icon-database" sizing="both"></i><span class="vp-sidebar-title">数据库</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><i class="vp-icon iconfont icon-tool" sizing="both"></i><span class="vp-sidebar-title">开发工具</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/my-notes/codenotes/os/linux/linux.html" aria-label="Linux入门"><!--[--><i class="vp-icon iconfont icon-linux" sizing="both"></i><!--]-->Linux入门<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-regexp" sizing="height"></i>Java正则表达式</h1><div class="page-info"><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1" role>javase</span><span class="page-category-item color2" role>正则表达式</span><!--]--><meta property="articleSection" content="javase,正则表达式"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color1" role>javase</span><!--]--><meta property="keywords" content="javase"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 20 分钟</span><meta property="timeRequired" content="PT20M"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><p>我们可能有如下的需求：</p><ul><li>从一个文章里找到所有的邮箱；</li><li>看看输入的手机号是不是符合手机号的规则；</li><li>检查输入的是不是身份证号。</li></ul><p>对于这种需要，都要求对字符串进行特定【模式或规则】的匹配。本章学习的正则表达式可以帮助我们实现这样的功能。</p><h2 id="第一章-概述" tabindex="-1"><a class="header-anchor" href="#第一章-概述"><span>第一章 概述</span></a></h2><p><strong>正则表达式</strong>，又称规则表达式,（Regular Expression，在代码中常简写为 regex、regexp 或 RE），是一种【文本模式(Pattern)】。</p><p>正则表达式使用单个字符串来描述、匹配具有相同规则的字符串，通常被用来检索、替换那些符合某个模式（规则）的文本。正则表达式的核心功能就是处理文本。</p><p>正则表达式并不仅限于某一种语言，但是在每种语言中有细微的差别。</p><h2 id="第二章-正则表达式基础语法" tabindex="-1"><a class="header-anchor" href="#第二章-正则表达式基础语法"><span>第二章 正则表达式基础语法</span></a></h2><p>每一个字符串都可以被视为一个简单的正则表达式，例如 <strong>Hello World</strong> 正则表达式匹配 &quot;Hello World&quot; 字符串。</p><p>有的人可能觉得这不是废话么。但是有些【特殊的字符】或者【特殊的表达式】，比如<code>.</code>它可以匹配任何一个字符，如：&quot;a&quot; 或 &quot;b&quot;；比如<code>+</code>可以代表一个或多个；比如<code>\d</code>可以代表任意数字等等。</p><h3 id="一、元字符" tabindex="-1"><a class="header-anchor" href="#一、元字符"><span>一、元字符</span></a></h3><p>元字符是构造正则表达式的一种基本元素。</p><ul><li>. ：匹配除换行符以外的任意字符</li><li>\w：匹配字母或数字或下划线或汉字</li><li>\s：匹配任意的空白符</li><li>\d：匹配数字</li><li>\b：匹配单词的开始或结束</li><li>^：匹配字符串的开始</li><li>$：匹配字符串的结束</li></ul><p><strong>案例：</strong></p><ul><li>匹配 8 位数字的 QQ 号码：<code>^\d\d\d\d\d\d\d\d$</code></li><li>匹配 1 开头 11 位数字的手机号码：<code>^1\d\d\d\d\d\d\d\d\d\d$</code></li></ul><h3 id="二、重复限定符" tabindex="-1"><a class="header-anchor" href="#二、重复限定符"><span>二、重复限定符</span></a></h3><p>正则表达式提供了对重复字符进行简写的方式：</p><ul><li>*：重复零次或更多次</li><li>+：重复一次或更多次</li><li>?：重复零次或一次</li><li>{n}：重复 n 次</li><li>{n,}：重复 n 次或更多次</li><li>{n,m}：重复 n 到 m 次</li></ul><p>有了这些限定符之后，我们就可以对之前的正则表达式进行改造了，比如：</p><ul><li>匹配 8 位数字的 QQ 号码：<code>^\d{8}$</code></li><li>匹配 1 开头 11 位数字的手机号码：<code>^1\d{10}$</code></li><li>匹配银行卡号是 14~18 位的数字：<code>^\d{14,18}$</code></li><li>匹配以 a 开头的，0 个或多个 b 结尾的字符串:<code>^ab*$</code></li></ul><h3 id="三、分组" tabindex="-1"><a class="header-anchor" href="#三、分组"><span>三、分组</span></a></h3><p>限定符是作用在与他相邻的最左边的一个字符，那么问题来了，如果我想要 ab 同时被限定那怎么办呢？</p><p>正则表达式中用小括号()来做分组，也就是括号中的内容会作为一个整体。</p><p>如匹配字符串中包含 0 到多个 ab 开头：<code>^(ab)*</code></p><h3 id="四、转义" tabindex="-1"><a class="header-anchor" href="#四、转义"><span>四、转义</span></a></h3><p>正则提供了转义的方式，也就是要把这些元字符、限定符或者关键字转义成普通的字符，做法很简答，就是在要转义的字符前面加个斜杠，也就是\即可。</p><p>匹配字符串中包含 0 到多个(ab)开头：<code>^(\(ab\))*</code></p><p>匹配一个字符*：<code>\*</code></p><h3 id="五、条件" tabindex="-1"><a class="header-anchor" href="#五、条件"><span>五、条件</span></a></h3><p>回到我们刚才的手机号匹配，我们都知道：国内号码都来自三大运营商，它们都有属于自己的号段。</p><p>比如联通有 130/131/132/155/156/185/186/145/176 等号段，假如让我们匹配一个联通的号码，那按照我们目前所学到的正则，应该无从下手的，因为这里包含了一些并列的条件，也就是“或”，那么在正则中是如何表示“或”的呢？</p><p>正则用符号 | 来表示或，也叫做分支条件，当满足正则里的分支条件的任何一种条件时，都会当成是匹配成功。</p><p>那么我们就可以用或条件来处理这个问题：</p><div class="language-cmd" data-highlighter="prismjs" data-ext="cmd"><pre><code class="language-cmd"><span class="line">^(130|131|132|155|156|185|186|145|176)\d{8}$</span>
<span class="line"></span></code></pre></div><h3 id="六、区间" tabindex="-1"><a class="header-anchor" href="#六、区间"><span>六、区间</span></a></h3><p>正则提供一个元字符中括号 [] 来表示区间条件。</p><ul><li>限定 0 到 9 可以写成[0-9]</li><li>限定 A-Z 写成[A-Z]</li><li>限定某些数字 [165]</li></ul><p>那上面的正则我们还改成这样：</p><div class="language-cmd" data-highlighter="prismjs" data-ext="cmd"><pre><code class="language-cmd"><span class="line">^((13[0-2])|(15[56])|(18[5-6])|145|176)\d{8}$</span>
<span class="line"></span></code></pre></div><h3 id="七、反义" tabindex="-1"><a class="header-anchor" href="#七、反义"><span>七、反义</span></a></h3><p>前面说到元字符的都是要匹配什么什么，当然如果你想反着来，不想匹配某些字符，正则也提供了一些常用的反义元字符：</p><table><thead><tr><th>元字符</th><th>解释</th></tr></thead><tbody><tr><td>\W</td><td>匹配任意不是字母，数字，下划线，汉字的字符</td></tr><tr><td>\S</td><td>匹配任意不是空白符的字符</td></tr><tr><td>\D</td><td>匹配任意非数字的字符</td></tr><tr><td>\B</td><td>匹配不是单词开头或结束的位置</td></tr><tr><td>[^x]</td><td>匹配除了 x 以外的任意字符</td></tr><tr><td>[^aeiou]</td><td>匹配除了 aeiou 这几个字母以外的任意字符</td></tr></tbody></table><h3 id="八、常见的正则表达式" tabindex="-1"><a class="header-anchor" href="#八、常见的正则表达式"><span>八、常见的正则表达式</span></a></h3><ul><li><p>匹配中文字符的正则表达式：<code>[\u4e00-\u9fa5]</code></p><p>匹配形式：My name is it 楠老师！</p></li><li><p>匹配 Email 地址的正则表达式：<code>^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$</code> 匹配形式： 51012324@qq.com、ydlclass@163.com，ydl-class@126.com</p></li><li><p>匹配国内电话号码：<code>\d{3}-\d{8}|\d{4}-\d{7}</code>匹配形式：匹配形式如 0511-4405222 或 021-87888822</p></li><li><p>匹配腾讯 QQ 号：<code>[1-9][0-9]{4,}</code>匹配形式：510180222</p></li><li><p>匹配身份证：<code>(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$</code> 匹配形式：142228199108252125</p></li><li><p>匹配 ip 地址：<code>\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}</code>匹配形式：127.0.0.1</p></li><li><p>匹配国内的手机号：<code>^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$</code></p><p>匹配形式：1388888888</p></li></ul><h2 id="第三章-java-正则表达式" tabindex="-1"><a class="header-anchor" href="#第三章-java-正则表达式"><span>第三章 java 正则表达式</span></a></h2><p><strong>小知识：</strong></p><p>有些语言中，<strong>\</strong> 表示：我就是一个普通的【反斜杠】，请不要给我任何特殊的意义。</p><p>在 Java 中，<strong>\</strong> 表示：我不是一个普通的【反斜杠】，我必须对紧随其后的字符进行转义，如果想将我视为普通反斜杠，请转义我。</p><p>我们可以看以下的输出内容：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出为 \</span></span>
<span class="line"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\\\\&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出为 \\</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>java 中正则表达式的执行流程：</p><figure><img src="/my-notes/assets/image-20220805095117483-3b42ebe9-CY-zkelt.png" alt="image-20220805095117483" tabindex="0" loading="lazy"><figcaption>image-20220805095117483</figcaption></figure><h3 id="一、正则表达式实例" tabindex="-1"><a class="header-anchor" href="#一、正则表达式实例"><span>一、正则表达式实例</span></a></h3><p><code>java.util.regex</code> 包主要包括以下三个类：</p><ul><li><p><strong>Pattern 类：</strong></p><p>正则表达式的编译表示形式。若要使用正则表达式必须将其【编译到此类】的实例中。然后，可以使用生成的模式对象创建 Matcher 对象。</p></li><li><p><strong>Matcher 类：</strong></p><p>Matcher 对象是对输入字符串进行【解释和匹配】操作的引擎。与 Pattern 类一样，Matcher 也没有公共构造方法。你需要调用 Pattern 对象的 matcher 方法来获得一个 Matcher 对象。</p></li><li><p><strong>PatternSyntaxException：</strong></p><p>PatternSyntaxException 是一个非强制异常类，它表示一个正则表达式模式中的语法错误。</p></li></ul><p>以下实例中使用了正则表达式 <strong>.*itnanls.*</strong> 用于查找字符串中是否包了 itnanls 子串：</p><p><strong>实例</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">class</span> <span class="token class-name">TestRegex</span><span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Test</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> testRegex<span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">&quot;I am itnanls，I&#39;m from ydlclass.&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">&quot;.*itnanls.*&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">boolean</span> isMatch <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;字符串中是否包含了 &#39;itnanls&#39; 子字符串? &quot;</span> <span class="token operator">+</span> isMatch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"> <span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testRegex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;i am itnanls,i com from ydl.&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;.*itlils.*&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实例输出结果为：<strong>字符串中是否包含了 &#39;itnanls&#39; 子字符串? true</strong></p><h3 id="二、matcher-类的方法" tabindex="-1"><a class="header-anchor" href="#二、matcher-类的方法"><span>二、Matcher 类的方法</span></a></h3><h4 id="_1、匹配方法" tabindex="-1"><a class="header-anchor" href="#_1、匹配方法"><span>1、匹配方法</span></a></h4><p>（1）该方法可以精确表明输入字符串中在哪能找到与之匹配的内容：</p><table><thead><tr><th style="text-align:left;"><strong>序号</strong></th><th style="text-align:left;">方法及</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;">start()</td><td>返回匹配的起始索引</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">start(int group)</td><td>返回在匹配操作期间，由给定组所捕获的子序列的起始索引</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;">end()</td><td>返回匹配字符末尾索引</td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;">end(int group)</td><td>返回在匹配操作期间，由给定组所捕获的子序列的末尾索引</td></tr></tbody></table><p>下面是一个对单词 &quot;cat&quot; 出现在输入字符串中出现次数进行计数的例子：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">&quot;cat cat dog dog cat&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取 matcher 对象</span></span>
<span class="line">    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        count<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Match number &quot;</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;start(): &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;end(): &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上实例编译运行结果如下（start 返回 cat 的 c 的索引，end 方法返回 t 的索引）：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">Match</span> number <span class="token number">1</span></span>
<span class="line"><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line"><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">3</span></span>
<span class="line"><span class="token class-name">Match</span> number <span class="token number">2</span></span>
<span class="line"><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">4</span></span>
<span class="line"><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">7</span></span>
<span class="line"><span class="token class-name">Match</span> number <span class="token number">3</span></span>
<span class="line"><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">16</span></span>
<span class="line"><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">19</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、查找方法" tabindex="-1"><a class="header-anchor" href="#_2、查找方法"><span>2、查找方法</span></a></h4><p>查找方法用来检查输入字符串并返回一个布尔值，表示是否找到该模式：</p><table><thead><tr><th style="text-align:left;"><strong>序号</strong></th><th style="text-align:left;">方法</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;">lookingAt()</td><td>返回目标字符串前面部分与 Pattern 是否匹配</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">find()</td><td>返回目标字符串中是否包含与 Pattern 匹配的子串</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;">find(int start）</td><td>从指定索引开始匹配查找。</td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;">matches()</td><td>尝试将整个区域与模式匹配</td></tr></tbody></table><p>matches 和 lookingAt 方法都用来尝试匹配一个输入序列模式。它们的不同是 matches 要求整个序列都匹配，而 lookingAt 不要求。</p><p>lookingAt 方法虽然不需要整句都匹配，但是需要从第一个字符开始匹配。</p><p>实例：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMatches</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;itnanls&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> content1 <span class="token operator">=</span> <span class="token string">&quot;itnanls&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> content2 <span class="token operator">=</span> <span class="token string">&quot;itnanls is very handsome  !&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> content3 <span class="token operator">=</span> <span class="token string">&quot;My name is itnanls.&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher1 <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher2 <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher3 <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>content3<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;matches1(): &quot;</span> <span class="token operator">+</span> matcher1<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lookingAt1(): &quot;</span> <span class="token operator">+</span> matcher1<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;matches2(): &quot;</span> <span class="token operator">+</span> matcher2<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lookingAt2(): &quot;</span> <span class="token operator">+</span> matcher2<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;matches3(): &quot;</span> <span class="token operator">+</span> matcher3<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lookingAt3(): &quot;</span> <span class="token operator">+</span> matcher3<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上实例编译运行结果如下：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、替换方法" tabindex="-1"><a class="header-anchor" href="#_3、替换方法"><span>3、替换方法</span></a></h4><p>替换方法是替换输入字符串里文本的方法：</p><table><thead><tr><th style="text-align:left;"><strong>序号</strong></th><th style="text-align:left;">方法</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;">public String replaceAll(String replacement)</td><td>替换模式与给定替换字符串相匹配的输入序列的每个子序列。</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">public String replaceFirst(String replacement)</td><td>替换模式与给定替换字符串匹配的输入序列的第一个子序列。</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;">public Matcher appendReplacement(StringBuffer sb, String replacement)</td><td>实现非末尾的添加和替换步骤。</td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;">public StringBuffer appendTail(StringBuffer sb)</td><td>实现末尾的添加和替换步骤。</td></tr></tbody></table><p>下面的例子来解释 replaceAll 和 replaceFirst：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testReplace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;itnanls&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;My name is itnanls, itnanls is very handsome. &quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> replacement <span class="token operator">=</span> <span class="token string">&quot;itlils&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> result1 <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>replacement<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> result2 <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span>replacement<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上实例编译运行结果如下：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">My</span> name is itlils<span class="token punctuation">,</span> itlils is very <span class="token class-name"><span class="token namespace">handsome<span class="token punctuation">.</span></span></span>
<span class="line">My</span> name is itlils<span class="token punctuation">,</span> itnanls is very handsome<span class="token punctuation">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>下面的例子来解释<code>appendReplacement</code>和<code>appendTail</code>：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAppend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> <span class="token constant">REGEX</span> <span class="token operator">=</span> <span class="token string">&quot;a*b&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> <span class="token constant">INPUT</span> <span class="token operator">=</span> <span class="token string">&quot;aabfooaabfooabfooabkkk&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> <span class="token constant">REPLACE</span> <span class="token operator">=</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token constant">REGEX</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 获取 matcher 对象</span></span>
<span class="line">    <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token constant">INPUT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    m<span class="token punctuation">.</span><span class="token function">appendReplacement</span><span class="token punctuation">(</span>sb<span class="token punctuation">,</span> <span class="token constant">REPLACE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    m<span class="token punctuation">.</span><span class="token function">appendReplacement</span><span class="token punctuation">(</span>sb<span class="token punctuation">,</span> <span class="token constant">REPLACE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    m<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上实例编译运行结果如下：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">-</span>
<span class="line">-foo-</span>
<span class="line">-foo-fooabfooabkkk</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4、patternsyntaxexception-类的方法" tabindex="-1"><a class="header-anchor" href="#_4、patternsyntaxexception-类的方法"><span>4、PatternSyntaxException 类的方法</span></a></h4><p>PatternSyntaxException 是一个异常类，它指示一个正则表达式模式中的语法错误。</p><p>PatternSyntaxException 类提供了下面的方法来帮助我们查看发生了什么错误。</p><table><thead><tr><th style="text-align:left;"><strong>序号</strong></th><th style="text-align:left;">方法</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;">getDescription()</td><td>获取错误的描述。</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">getIndex()</td><td>获取错误的索引。</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;">getPattern()</td><td>获取错误的正则表达式模式。</td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;">getMessage()</td><td>返回多行字符串，包含语法错误及其索引的描述、错误的正则表达式模式和模式中错误索引的可视化指示。</td></tr></tbody></table><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">String REGEX = &quot;a*b[er&quot;;</span>
<span class="line"></span></code></pre></div><figure><img src="/my-notes/assets/image-20220805132012104-a40c18fd-tKsPv5HX.png" alt="image-20220805132012104" tabindex="0" loading="lazy"><figcaption>image-20220805132012104</figcaption></figure><h2 id="第四章-正则表达式进阶语法" tabindex="-1"><a class="header-anchor" href="#第四章-正则表达式进阶语法"><span>第四章 正则表达式进阶语法</span></a></h2><h3 id="一、零宽断言" tabindex="-1"><a class="header-anchor" href="#一、零宽断言"><span>一、零宽断言</span></a></h3><p>【断言】就是说正则可以【断定】在指定内容的前面或后面会出现满足指定规则的内容。</p><p>【零宽】 断言部分只确定位置不匹配任何内容，只是一种模式。内容宽度为零。</p><p>我们来举个栗子：假设我们要用爬虫抓取 csdn 里的文章阅读量。通过查看源代码可以看到文章阅读量这个内容是这样的结构：</p><div class="language-html" data-highlighter="prismjs" data-ext="html"><pre><code class="language-html"><span class="line">&quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>read-count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>阅读数：641<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>&quot;</span>
<span class="line"></span></code></pre></div><p>其中也就【641】这个是变量，也就是说不同文章不同的值，当我们拿到这个字符串时，需要获得这里边的【641】有很多种办法，但如果正则应该怎么匹配呢？下面先来讲几种类型的断言：</p><p>几个概念：</p><table><thead><tr><th>概念</th><th style="text-align:right;">功能</th></tr></thead><tbody><tr><td>预测/先行</td><td style="text-align:right;">（模式在前），要求后面的符合匹配</td></tr><tr><td>回顾/后发</td><td style="text-align:right;">（模式在后），要求前面的符合匹配</td></tr><tr><td>正</td><td style="text-align:right;">符合匹配</td></tr><tr><td>负</td><td style="text-align:right;">不符合匹配</td></tr></tbody></table><h4 id="_1、正向先行断言" tabindex="-1"><a class="header-anchor" href="#_1、正向先行断言"><span>1、正向先行断言</span></a></h4><p>零宽度正预测先行断言</p><ul><li>语法：（?=pattern）</li><li>作用：匹配 pattern 表达式的前面内容，不返回本身。</li></ul><p>【正向先行断言】可以匹配表达式前面的内容，那意思就是(?=) 就可以匹配到前面的内容了。</p><p>如果我们要匹配所有内容那就是：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAssert1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;.+(?=&lt;/span&gt;)&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;&lt;span class=\&quot;read-count\&quot;&gt;阅读数：641&lt;/span&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//匹配结果：&lt;span class=&quot;read-count&quot;&gt;阅读数：641</span></span>
<span class="line"><span class="token comment">//可是我们要的只是前面的数字呀，那也简单咯，匹配数字 \d,那可以改成：</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAssert2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;\\d+(?=&lt;/span&gt;)&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;&lt;span class=\&quot;read-count\&quot;&gt;阅读数：641&lt;/span&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//匹配结果：</span></span>
<span class="line"><span class="token comment">//641</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、正向后行断言" tabindex="-1"><a class="header-anchor" href="#_2、正向后行断言"><span>2、正向后行断言</span></a></h4><p>零宽度正回顾后发断言，断言在前，模式在后</p><ul><li>语法：（?&lt;=pattern）</li><li>作用：匹配 pattern 表达式的后面的内容，不返回本身。</li></ul><p>有先行就有后行，先行是匹配前面的内容，那后行就是匹配后面的内容啦。</p><p>上面的例子，我们也可以用后行断言来处理：</p><div class="language-Java line-numbers-mode" data-highlighter="prismjs" data-ext="Java"><pre><code class="language-Java"><span class="line">@Test</span>
<span class="line">public void testAssert3(){</span>
<span class="line">    String regex = &quot;(?&lt;=&lt;span class=\&quot;read-count\&quot;&gt;阅读数：)\\d+&quot;;</span>
<span class="line">    String context = &quot;&lt;span class=\&quot;read-count\&quot;&gt;阅读数：641&lt;/span&gt;&quot;;</span>
<span class="line">    Pattern pattern = Pattern.compile(regex);</span>
<span class="line">    Matcher matcher = pattern.matcher(context);</span>
<span class="line">    while (matcher.find()){</span>
<span class="line">        System.out.println(matcher.group());</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、负向先行断言" tabindex="-1"><a class="header-anchor" href="#_3、负向先行断言"><span>3、负向先行断言</span></a></h4><p>零宽度负预测先行断言</p><ul><li>语法：(?!pattern)</li><li>作用：匹配非 pattern 表达式的前面内容，不返回本身。</li></ul><p>有正向也有负向，负向在这里其实就是非的意思。</p><p>举个栗子：比如有一句 “我爱祖国，我是祖国的花朵”。现在要找到不是&#39;的花朵&#39;前面的祖国。</p><p>用正则就可以这样写：祖国(?!的花朵)</p><h4 id="_4、负向后行断言" tabindex="-1"><a class="header-anchor" href="#_4、负向后行断言"><span>4、负向后行断言</span></a></h4><p>零宽度负回顾后发断言</p><ul><li>语法：(?&lt;!pattern)</li><li>作用：匹配非 pattern 表达式的后面内容，不返回本身。</li></ul><p>举个例子：比如有一句 “我爱祖国，我是祖国的花朵”。现在要找到不是&#39;我爱&#39;后面的祖国。</p><p>用正则就可以这样写：(?&lt;!我爱)祖国</p><h3 id="二、捕获和非捕获" tabindex="-1"><a class="header-anchor" href="#二、捕获和非捕获"><span>二、捕获和非捕获</span></a></h3><p><strong>捕获组：</strong> 我们匹配子表达式的内容，并把匹配结果【以数字编号或组名的方式】保存到内存中，之后可以通过序号或名称来使用这些匹配结果。</p><p>而根据命名方式的不同，又可以分为两种组：</p><h4 id="_1、数字编号捕获组" tabindex="-1"><a class="header-anchor" href="#_1、数字编号捕获组"><span>1、数字编号捕获组</span></a></h4><p>语法：(exp)</p><p>解释：从表达式左侧开始，每出现一个左括号和它对应的右括号之间的内容为一个分组，在分组中，第 0 组为整个表达式，第一组开始为分组。</p><ul><li>比如固定电话的：020-85653333</li><li>正则表达式为：(0\d{2})-(\d{8})</li></ul><p>按照左括号的顺序，这个表达式有如下分组：</p><table><thead><tr><th>序号</th><th>编号</th><th>分组</th><th>内容</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>(0\d{2})-(\d{8})</td><td>020-85653333</td></tr><tr><td>1</td><td>1</td><td>(0\d{2})</td><td>020</td></tr><tr><td>2</td><td>0</td><td>(\d{8})</td><td>85653333</td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">String</span> test <span class="token operator">=</span> <span class="token string">&quot;020-85653333&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">String</span> reg<span class="token operator">=</span><span class="token string">&quot;(0\\d{2})-(\\d{8})&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Matcher</span> mc<span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span>mc<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;分组的个数有：&quot;</span><span class="token operator">+</span>mc<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>mc<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">&quot;个分组为：&quot;</span><span class="token operator">+</span>mc<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">分组的个数有：<span class="token number">2</span></span>
<span class="line">第<span class="token number">0</span>个分组为：<span class="token number">020</span><span class="token operator">-</span><span class="token number">85653333</span></span>
<span class="line">第<span class="token number">1</span>个分组为：<span class="token number">020</span></span>
<span class="line">第<span class="token number">2</span>个分组为：<span class="token number">85653333</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可见，分组个数是 2，但是因为第 0 个为整个表达式本身，因此也一起输出了。</p><h4 id="_2、命名编号捕获组" tabindex="-1"><a class="header-anchor" href="#_2、命名编号捕获组"><span>2、命名编号捕获组</span></a></h4><p>语法：(?exp)</p><p>解释：分组的命名由表达式中的 name 指定，比如区号也可以这样写:</p><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">(?&lt;quhao&gt;0\\d{2})-(?&lt;haoma&gt;\\d{8})</span>
<span class="line"></span></code></pre></div><p>按照左括号的顺序，这个表达式有如下分组：</p><table><thead><tr><th>序号</th><th>名称</th><th>分组</th><th>内容</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>(0\d{2})-(\d{8})</td><td>020-85653333</td></tr><tr><td>1</td><td>quhao</td><td>(0\d{2})</td><td>020</td></tr><tr><td>2</td><td>haoma</td><td>(\d{8})</td><td>85653333</td></tr></tbody></table><p>用代码来验证一下：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">String</span> test <span class="token operator">=</span> <span class="token string">&quot;020-85653333&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">String</span> reg<span class="token operator">=</span><span class="token string">&quot;(?&lt;quhao&gt;0\\d{2})-(?&lt;haoma&gt;\\d{8})&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Matcher</span> mc<span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span>mc<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;分组的个数有：&quot;</span><span class="token operator">+</span>mc<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mc<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">&quot;quhao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mc<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">&quot;haoma&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">分组的个数有：<span class="token number">2</span></span>
<span class="line">分组名称为<span class="token operator">:</span>quhao<span class="token punctuation">,</span>匹配内容为：<span class="token number">020</span></span>
<span class="line">分组名称为<span class="token operator">:</span>haoma<span class="token punctuation">,</span>匹配内容为：<span class="token number">85653333</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、非捕获组" tabindex="-1"><a class="header-anchor" href="#_3、非捕获组"><span>3、非捕获组</span></a></h4><ul><li>语法：(?:exp)</li><li>解释：和捕获组刚好相反，它用来标识那些不需要捕获的分组。</li></ul><p>比如上面的正则表达式，程序不需要用到第一个分组，那就可以这样写：<code>(?:0\\d{2})-(\\d{8})</code></p><table><thead><tr><th>序号</th><th>名称</th><th>分组</th><th>内容</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>(0\d{2})-(\d{8})</td><td>020-85653333</td></tr><tr><td>1</td><td>1</td><td>(\d{8})</td><td>85653333</td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token class-name">String</span> test <span class="token operator">=</span> <span class="token string">&quot;020-85653333&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">String</span> reg<span class="token operator">=</span><span class="token string">&quot;(?:0\\d{2})-(\\d{8})&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Matcher</span> mc<span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span>mc<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;分组的个数有：&quot;</span><span class="token operator">+</span>mc<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>mc<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">&quot;个分组为：&quot;</span><span class="token operator">+</span>mc<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">分组的个数有：<span class="token number">1</span></span>
<span class="line">第<span class="token number">0</span>个分组为：<span class="token number">020</span><span class="token operator">-</span><span class="token number">85653333</span></span>
<span class="line">第<span class="token number">1</span>个分组为：<span class="token number">85653333</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三、反向引用" tabindex="-1"><a class="header-anchor" href="#三、反向引用"><span>三、反向引用</span></a></h3><p>我们知道：捕获会返回一个捕获组，这个分组是保存在内存中，不仅可以在正则表达式外部通过程序进行引用，也可以【在正则表达式内部进行引用】，这种引用方式就是【反向引用】。</p><p>根据捕获组的命名规则，反向引用可分为：</p><ul><li>普通捕获组反向引用：<code>\k&lt;number&gt;</code>，通常简写为\number</li><li>命名捕获组反向引用：<code>\k&lt;name&gt;</code>，或者\k&#39;name&#39;</li></ul><p>我们可以举一个例子：</p><p>比如要查找一串字母&quot;aabbbbgbddesddfiid&quot;里成对的字母，如果按照我们之前学到的正则，什么区间啊限定啊断言啊可能是办不到的。</p><p>现在我们先用程序思维理一下思路：</p><p>1）匹配到一个字母</p><p>2）匹配第下一个字母，检查是否和上一个字母是否一样</p><p>3）如果一样，则匹配成功，否则失败</p><p>这里的思路中，在匹配下一个字母时，需要用到上一个字母进行比较，但是目前的知识实在办不到。</p><p>这下子捕获就有用处啦，我们可以利用捕获把上一个匹配成功的内容用来作为本次匹配的条件即可。</p><ol><li>首先匹配一个字母：\w。我们需要做成分组才能捕获，因此写成这样：(\w)</li><li>那这个表达式就有一个捕获组：（\w）</li><li>然后我们要用这个捕获组作为条件，那就可以：<code>(\w)\1</code></li></ol><p>这里的<code>\1</code>是什么意思呢？根据反向引用的数字命名规则,就需要<code>\k&lt;1&gt;</code>或者<code>\1</code>，当然，通常都是是后者。</p><p>我们来测试一下：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"> <span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;aabbxxccdddsksdhfhshh&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;(\\w)\\1&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">aa</span>
<span class="line">bb</span>
<span class="line">xx</span>
<span class="line">cc</span>
<span class="line">dd</span>
<span class="line">hh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>嗯，这就是我们想要的了。 再举个替换的例子，假如想要把字符串中 abc 换成 a</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testReplaceAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;abc aabc bc xxx mm&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;(a*)(b)(c)&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> res <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">a aa  xxx mm</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="四、贪婪和非贪婪" tabindex="-1"><a class="header-anchor" href="#四、贪婪和非贪婪"><span>四、贪婪和非贪婪</span></a></h3><h4 id="_1、贪婪匹配" tabindex="-1"><a class="header-anchor" href="#_1、贪婪匹配"><span>1、贪婪匹配</span></a></h4><p><strong>贪婪匹配：</strong> 当正则表达式中包含能接受重复的限定符时，该方式会匹配尽可能多的字符，这匹配方式叫做贪婪匹配。</p><p>前面我们讲过重复限定符，其实这些限定符就是贪婪量词，比如表达式：<code>\d{3,6}</code>。</p><p>用来匹配 3 到 6 位数字，在这种情况下，它是一种贪婪模式的匹配，也就是假如字符串里有 6 个数字可以匹配，那它就是全部匹配到。</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGreed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;\\d{3,6}&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span><span class="token string">&quot;61762828 176 2991 871&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文本：&quot;</span> <span class="token operator">+</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;贪婪模式：&quot;</span><span class="token operator">+</span> regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span><span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匹配结果：&quot;</span> <span class="token operator">+</span> matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">文本：<span class="token number">61762828</span> <span class="token number">176</span> <span class="token number">2991</span> <span class="token number">44</span> <span class="token number">871</span></span>
<span class="line">贪婪模式：\d<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span></span>
<span class="line">匹配结果：<span class="token number">617628</span></span>
<span class="line">匹配结果：<span class="token number">176</span></span>
<span class="line">匹配结果：<span class="token number">2991</span></span>
<span class="line">匹配结果：<span class="token number">871</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由结果可见：本来字符串中的“61762828”这一段，其实只需要出现 3 个（617）就已经匹配成功了的，但是他并不满足，而是匹配到了最大能匹配的字符，也就是 6 个。</p><p>多个贪婪量词在一起时，如果字符串能满足他们各自最大程度的匹配时，就互不干扰，但如果不能满足时，会优先满足最大数量的匹配，剩余再分配下一个量词匹配。</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"> <span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGreed2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;\\d{1,2}\\d{3,5}&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> context <span class="token operator">=</span><span class="token string">&quot;61762828 176 2991 871&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文本：&quot;</span> <span class="token operator">+</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;贪婪模式：&quot;</span><span class="token operator">+</span> regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span><span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匹配结果：&quot;</span> <span class="token operator">+</span> matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">文本：<span class="token number">61762828</span> <span class="token number">176</span> <span class="token number">2991</span> <span class="token number">871</span></span>
<span class="line">贪婪模式：\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span>\d<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span></span>
<span class="line">匹配结果：<span class="token number">6176282</span></span>
<span class="line">匹配结果：<span class="token number">2991</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、懒惰匹配" tabindex="-1"><a class="header-anchor" href="#_2、懒惰匹配"><span>2、懒惰匹配</span></a></h4><p><strong>懒惰匹配：</strong> 当正则表达式中包含能接受重复的限定符时，会匹配尽可能少的字符，这匹配方式叫做懒惰匹配。</p><p>懒惰量词是在贪婪量词后面加个“？”</p><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>*?</td><td>重复任意次，但尽可能少重复</td></tr><tr><td>+?</td><td>重复 1 次或更多次，但尽可能少重复</td></tr><tr><td>??</td><td>重复 0 次或 1 次，但尽可能少重复</td></tr><tr><td>{n,m}?</td><td>重复 n 到 m 次，但尽可能少重复</td></tr><tr><td>{n,}?</td><td>重复 n 次以上，但尽可能少重复</td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testNotGreed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> reg<span class="token operator">=</span><span class="token string">&quot;(\\d{1,2}?)(\\d{3,4})&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> test<span class="token operator">=</span><span class="token string">&quot;61762828 176 2991 87321&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文本：&quot;</span><span class="token operator">+</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;贪婪模式：&quot;</span><span class="token operator">+</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> p1 <span class="token operator">=</span><span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> m1 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匹配结果：&quot;</span><span class="token operator">+</span>m1<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">输出结果：</span>
<span class="line"></span>
<span class="line">文本：<span class="token number">61762828</span> <span class="token number">176</span> <span class="token number">2991</span> <span class="token number">87321</span></span>
<span class="line">懒惰匹配：<span class="token punctuation">(</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">(</span>\d<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">匹配结果：<span class="token number">61762</span></span>
<span class="line">匹配结果：<span class="token number">2991</span></span>
<span class="line">匹配结果：<span class="token number">87321</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>“61762” 是左边的懒惰匹配出 6，右边的贪婪匹配出 1762。</li><li>&quot;2991&quot; 是左边的懒惰匹配出 2，右边的贪婪匹配出 991。</li><li>&quot;87321&quot; 左边的懒惰匹配出 8，右边的贪婪匹配出 7321。</li></ul><h2 id="第五章-作业" tabindex="-1"><a class="header-anchor" href="#第五章-作业"><span>第五章 作业</span></a></h2><p>1、通过 scanner 输入一个字符串，判断是否是一个邮箱？</p><p>2、将一个文件中的邮箱全部查找出来？</p><p>3、将一个文件中的电话的中间四个数字替换成 xxxx? 例子 15236985456 --&gt; 152xxxx5456</p><p>文本如下</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">姓名      年龄      邮箱                   电话</span>
<span class="line">张小强    23    526845845@163.com     13759685424</span>
<span class="line">丁新新    20    238011792@qq.com      18011023709</span>
<span class="line">李银龙    20    liyinl1199w@163.com   17308811441</span>
<span class="line">赵资本    19    anhuo69579@126.com    18234417225</span>
<span class="line">李成刚    21    19713318@qq.com       13279906620</span>
<span class="line">王铁柱    20    ykl3987671@163.com    18802836971</span>
<span class="line">张龙虎    22    zh199715@gmail.com    13888906654</span>
<span class="line">李洁一    18    nl897665@yahoo.com    19762297581</span>
<span class="line">刘大志    20    197685551@qq.com      15299744196</span>
<span class="line">杨天天    19    86765ytian@126.com    17663999002</span>
<span class="line">陈承成    21    rr796232@hotmail.com  18137541864</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一题：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestEmail</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> email <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">boolean</span> matches <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span>matches<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;您输入的是一个邮箱！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;您输入的不是邮箱！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第二题：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 1、将文件的内容读取到内存</span></span>
<span class="line">    <span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;D:\\user.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> len<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2、进行正则匹配</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第三题：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"> <span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hidePhoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 1、将文件的内容读取到内存</span></span>
<span class="line">    <span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;D:\\user.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> len<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2、进行正则匹配</span></span>
<span class="line">    <span class="token class-name">String</span> regex <span class="token operator">=</span> <span class="token string">&quot;(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])(\\d{4})(\\d{4})&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Pattern</span> pattern <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">String</span> result <span class="token operator">=</span> matcher<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;$1xxxx$3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code class="language-java"><span class="line"> <span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hidePhoneNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 1、将文件的内容读取到内存</span></span>
<span class="line">    <span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;D:\\user.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> len<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">String</span> result <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])(\\d{4})(\\d{4})&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;$1xxxx$3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/talentestors/my-notes.git/edit/main/src/codenotes/java/javase/java正则表达式.md" aria-label="在【Github】上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在【Github】上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新</span><time class="vp-meta-info" datetime="2025-05-26T05:21:52.000Z" data-allow-mismatch>2025/5/26 05:21</time></div><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/my-notes/codenotes/java/javase/nio.html" aria-label="14、nio"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><i class="vp-icon iconfont icon-IO" sizing="height"></i>14、nio</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">終わり群星の知识宝库</div><div class="vp-copyright">Copyright © 2025 talentestors </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/my-notes/assets/app-CAqLFJSb.js" defer></script>
  </body>
</html>
